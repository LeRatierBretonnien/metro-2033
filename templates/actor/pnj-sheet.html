<form class="{{cssClass}} flexcol {{system.type}} {{system.creatureType}}" autocomplete="off">
    {{#if (ifvalue system.creatureType 'pnj')}}
    <div class="overlay">
        <div class="flex column center flex-center pick-npc">
            <h2>{{localize 'MYZ.PICK_NPC_TYPE'}}</h2>
            <div class="grid grid-2col">
                <a class="crature-picker" data-creature="mutant">{{localize 'MYZ.MUTANT'}}</a>
                <a class="crature-picker" data-creature="animal">{{localize 'MYZ.ANIMAL'}}</a>
                <a class="crature-picker" data-creature="human">{{localize 'MYZ.HUMAN'}}</a>
            </div>
        </div>
    </div>
    {{/if}}

    <div class="actor-header {{system.type}}">
        <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" />
        <div class="header-fields">
            <div class="npc-name-rank">
                <h1 class="charname npc-name" style="margin-top: 0px; margin-bottom: 10px">
                    <input name="name" type="text" value="{{actor.name}}" placeholder="Name" />
                </h1>
                <div class="flex row npc-rank align-center">
                    <label for="system.rank">{{localize (toUpperCase (concat 'MYZ.RANK_FOR_' system.creatureType))}}:&nbsp;</label>
                    <input class="input-underline" type="text" placeholder="{{localize (toUpperCase (concat 'MYZ.RANK_FOR_' system.creatureType))}}" name="system.rank" value="{{system.rank}}" />
                </div>
            </div>
            <div class="flexrow">

                <div class="flex flex-center know-nature margin-right">
                    <input type="number" class="short-input" name="system.knowNature" value="{{system.knowNature}}">
                </div>

                <div class="flex column margin-right">
                    <div class="box-item armor-box flex row space-between align-center armor margin-bottom  {{system.creatureType}}">
                        <label class="item-name armor-roll rollable" for="system.armorrating.value">{{localize 'MYZ.ARMOR'}}</label>
                        <span class="right-element">
                            <div class="armor-roll" style="cursor:pointer; padding: 5px 0 0 0; text-align: center; width:22px; min-height:26px; background-image: url(systems/metro-2033/ui/grey-shield.png); background-position: center; background-repeat: no-repeat;">{{system.armorrating.value}}</div>
                        </span>
                    </div>


                </div>

                <div class="flexcol space-between" style="padding:4px">
                    <div class="box-item header flex row space-between align-center {{system.creatureType}}">
                        <label class="item-name" for="system.resource_points.value">{{localize (toUpperCase (concat "MYZ.RESOURCE_" "POINTS_" system.creatureType ))}}</label>
                        <span class="right-element">
                            <input class="short-input" type="number" name="system.resource_points.value" value="{{system.resource_points.value}}" />
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="flex row" style="max-height: 65px">
        <div class="grid grid-4col align-center" style="width: 100%">
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="strength" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "STRENGTH_" system.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="system.attributes.strength.value" value="{{system.attributes.strength.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="system.attributes.strength.max" value="{{system.attributes.strength.max}}" class="short-input" />
                </span>
            </div>
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="agility" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "AGILITY_" system.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="system.attributes.agility.value" value="{{system.attributes.agility.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="system.attributes.agility.max" value="{{system.attributes.agility.max}}" class="short-input" />
                </span>
            </div>
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="wits" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "WITS_" system.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="system.attributes.wits.value" value="{{system.attributes.wits.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="system.attributes.wits.max" value="{{system.attributes.wits.max}}" class="short-input" />
                </span>
            </div>
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="empathy" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "EMPATHY_" system.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="system.attributes.empathy.value" value="{{system.attributes.empathy.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="system.attributes.empathy.max" value="{{system.attributes.empathy.max}}" class="short-input" />
                </span>
            </div>
        </div>
    </div>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="attributes">{{localize "MYZ.ATTRIBUTES"}}</a>
        <a class="item" data-tab="gear">{{localize "MYZ.GEAR"}}</a>
        <a class="item" data-tab="info">{{localize "MYZ.INFO"}}</a>
    </nav>

    <div class="sheet-body">
        {{!-- Attributes Tab --}}
        <div class="tab" data-group="primary" data-tab="attributes">
            <div class="grid grid-2col">
                <div>{{!-- Skills --}} {{> systems/metro-2033/templates/actor/partials/skills.html fixedHeight='fixed-height'}}</div>
                <div>
                    {{!-- Abilities --}} {{> systems/metro-2033/templates/actor/partials/abilities.html sourceType='ability' sourceList=abilities
                    sourceLabel='MYZ.ABILITIES' fixedHeight='fixed-height'}}
                </div>
                <div>
                    {{!-- Talents --}} {{> systems/metro-2033/templates/actor/partials/talents.html sourceType='talent' sourceList=talents
                    sourceLabel='MYZ.TALENTS' fixedHeight='fixed-height'}}
                </div>
                <div>
                    {{#ifCond system.creatureType '==' 'robot'}}
                    {{> systems/metro-2033/templates/actor/partials/special.html}}
                    {{/ifCond}}

                    {{#ifCond system.creatureType '!==' 'robot'}}
                    {{> systems/metro-2033/templates/actor/partials/criticals.html fixedHeight='fixed-height'}}
                    {{/ifCond}}
                </div>
            </div>
        </div>

        {{!-- Gear Tab --}}
        <div class="tab" data-group="primary" data-tab="gear">
            {{> systems/metro-2033/templates/actor/partials/weapons.html}}
            {{#if (ifvalue system.creatureType 'robot')}}
            {{> systems/metro-2033/templates/actor/partials/chassis-1row.html}}
            {{/if}}
            {{#unless (ifvalue system.creatureType 'robot')}}
            {{> systems/metro-2033/templates/actor/partials/armors.html}}
            {{/unless}}
            {{> systems/metro-2033/templates/actor/partials/npc-inventory.html}}
        </div>

        {{!-- Info Tab --}}
        <div class="tab" data-group="primary" data-tab="info">
            {{editor descriptionHTML target="system.description" button=true owner=owner editable=true engine='prosemirror'}}
        </div>
    </div>
</form>